<!DOCTYPE html>
<html lang="fr">
<head>
    <base target="_self">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFRISHOPSTAR - Plateforme B2B de vente en gros</title>
    <meta name="description" content="AFRISHOPSTAR - La plateforme de vente en gros pour les entreprises africaines. Trouvez des fournisseurs, produits et opportunit√©s commerciales.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#FF6B00",
                        secondary: "#003366",
                        accent: "#00A859",
                        dark: "#1A1A1A",
                        light: "#F8F9FA"
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif']
                    },
                    spacing: {
                        '128': '32rem',
                        '144': '36rem'
                    }
                }
            }
        }
    </script>
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }
        .category-card:hover {
            transform: translateY(-5px);
            transition: transform 0.3s ease;
        }
        .product-card:hover {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        .search-bar:focus {
            box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.1);
        }
        /* Simple hide utility for dropdowns/modals */
        .hidden { display: none; }
    </style>
</head>
<body class="min-h-screen bg-gray-50 font-inter">
    <!-- Header et Navigation -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <!-- Top Bar -->
            <div class="flex items-center justify-between py-2 border-b">
                <div class="flex items-center space-x-6">
                    <div class="flex items-center">
                        <i class="fas fa-globe-africa text-accent text-xl mr-2"></i>
                        <span class="text-sm font-medium">Afrique | Fran√ßais</span>
                    </div>
                    <div class="hidden md:flex items-center space-x-4">
                        <a href="javascript:void(0)" class="text-sm hover:text-primary">Aide</a>
                        <a href="javascript:void(0)" class="text-sm hover:text-primary">Vendre sur AFRISHOPSTAR</a>
                        <a href="javascript:void(0)" class="text-sm hover:text-primary">Devenir fournisseur</a>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="javascript:void(0)" id="account-toggle" class="text-sm hover:text-primary">
                        <i class="fas fa-user mr-1"></i> Mon compte
                    </a>
                    <a href="javascript:void(0)" id="cart-toggle" class="text-sm hover:text-primary relative">
                        <i class="fas fa-shopping-cart mr-1"></i> Panier
                        <span id="cart-count" class="ml-1 inline-block bg-primary text-white text-xs px-2 py-0.5 rounded-full">0</span>
                    </a>
                    <a href="javascript:void(0)" class="text-sm hover:text-primary">
                        <i class="fas fa-heart mr-1"></i> Favoris
                    </a>
                </div>
            </div>

            <!-- Main Navigation -->
            <nav class="flex items-center justify-between py-4">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-star text-primary text-2xl"></i>
                        <div>
                            <h1 class="text-2xl font-bold text-secondary">AFRISHOP<span class="text-primary">STAR</span></h1>
                            <p class="text-xs text-gray-500">Business to Business</p>
                        </div>
                    </div>
                </div>

                <!-- Search Bar -->
                <div class="flex-1 max-w-2xl mx-8">
                    <div class="relative">
                        <div class="flex">
                            <select id="category-select" class="bg-gray-100 border border-r-0 border-gray-300 rounded-l-lg px-4 py-3 focus:outline-none">
                                <option>Toutes cat√©gories</option>
                                <option>Mode & Textile</option>
                                <option>√âlectronique</option>
                                <option>Agriculture</option>
                                <option>Construction</option>
                                <option>Sant√© & Beaut√©</option>
                            </select>
                            <input id="search" type="text" 
                                   placeholder="Rechercher des produits, fournisseurs, cat√©gories..." 
                                   class="flex-1 border border-gray-300 px-4 py-3 focus:outline-none search-bar">
                            <button id="search-btn" class="bg-primary text-white px-6 py-3 rounded-r-lg hover:bg-orange-600 transition">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex items-center space-x-4">
                    <button id="sell-now-btn" class="bg-secondary text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition">
                        <i class="fas fa-store mr-2"></i>Vendre maintenant
                    </button>
                    <button id="download-btn" class="border border-primary text-primary px-6 py-2 rounded-lg hover:bg-primary hover:text-white transition">
                        <i class="fas fa-download mr-2"></i>T√©l√©charger l'app
                    </button>
                </div>
            </nav>

            <!-- Categories Menu -->
            <div class="border-t py-3">
                <div class="flex items-center space-x-6 overflow-x-auto">
                    <a href="javascript:void(0)" class="whitespace-nowrap hover:text-primary font-medium">
                        <i class="fas fa-home mr-2"></i>Accueil
                    </a>
                    <a href="javascript:void(0)" class="whitespace-nowrap hover:text-primary font-medium">
                        <i class="fas fa-fire mr-2"></i>Tendances
                    </a>
                    <a href="javascript:void(0)" class="whitespace-nowrap hover:text-primary font-medium">
                        <i class="fas fa-tshirt mr-2"></i>Mode & Textile
                    </a>
                    <a href="javascript:void(0)" class="whitespace-nowrap hover:text-primary font-medium">
                        <i class="fas fa-mobile-alt mr-2"></i>√âlectronique
                    </a>
                    <a href="javascript:void(0)" class="whitespace-nowrap hover:text-primary font-medium">
                        <i class="fas fa-tractor mr-2"></i>Agriculture
                    </a>
                    <a href="javascript:void(0)" class="whitespace-nowrap hover:text-primary font-medium">
                        <i class="fas fa-tools mr-2"></i>Construction
                    </a>
                    <a href="javascript:void(0)" class="whitespace-nowrap hover:text-primary font-medium">
                        <i class="fas fa-heartbeat mr-2"></i>Sant√© & Beaut√©
                    </a>
                    <a href="javascript:void(0)" class="whitespace-nowrap hover:text-primary font-medium">
                        <i class="fas fa-shipping-fast mr-2"></i>Logistique
                    </a>
                    <a href="javascript:void(0)" class="whitespace-nowrap hover:text-primary font-medium">
                        <i class="fas fa-percentage mr-2"></i>Promotions
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Small Cart Dropdown -->
    <div id="cart-dropdown" class="hidden fixed right-4 top-20 bg-white border rounded-lg shadow-lg w-80 z-50">
        <div class="p-4">
            <div class="flex justify-between items-center mb-3">
                <h4 class="font-bold">Mon panier</h4>
                <button id="clear-cart" class="text-sm text-red-500 hover:underline">Vider</button>
            </div>
            <ul id="cart-items" class="max-h-56 overflow-auto mb-3"></ul>
            <div class="text-right">
                <button id="checkout-btn" class="bg-primary text-white px-4 py-2 rounded">Passer √† la caisse</button>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="hidden fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg w-full max-w-md p-6">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">Connexion / Inscription</h3>
                <button id="auth-close" class="text-gray-500 hover:text-gray-800">&times;</button>
            </div>
            <div class="space-y-4">
                <input id="auth-email" type="email" placeholder="Email" class="w-full border px-4 py-2 rounded">
                <input id="auth-password" type="password" placeholder="Mot de passe" class="w-full border px-4 py-2 rounded">
                <div class="flex space-x-4">
                    <button id="register-btn" class="flex-1 bg-accent text-white px-4 py-2 rounded">S'inscrire</button>
                    <button id="login-btn" class="flex-1 border border-accent text-accent px-4 py-2 rounded">Se connecter</button>
                </div>
            </div>
        </div>
    </div>

    <main class="container mx-auto px-4 py-6">
        <!-- Hero Banner -->
        <section class="mb-8">
            <div class="bg-gradient-to-r from-secondary to-primary rounded-xl p-8 text-white">
                <div class="max-w-2xl">
                    <h2 class="text-4xl font-bold mb-4">Connectez votre entreprise au march√© africain</h2>
                    <p class="text-lg mb-6">Plus de 50,000 fournisseurs v√©rifi√©s. Commandes en gros avec garantie de qualit√©.</p>
                    <div class="flex space-x-4">
                        <button id="explore-btn" class="bg-white text-primary px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition">
                            Explorer les produits
                        </button>
                        <button id="become-supplier-btn" class="bg-transparent border-2 border-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-primary transition">
                            Devenir fournisseur
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cat√©gories populaires -->
        <section class="mb-12">
            <h3 class="text-2xl font-bold text-secondary mb-6">Cat√©gories populaires</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-lg cursor-pointer">
                    <div class="w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-tshirt text-blue-600 text-2xl"></i>
                    </div>
                    <h4 class="font-semibold">Mode & Textile</h4>
                    <p class="text-sm text-gray-500">10,000+ produits</p>
                </div>
                <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-lg cursor-pointer">
                    <div class="w-16 h-16 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-mobile-alt text-green-600 text-2xl"></i>
                    </div>
                    <h4 class="font-semibold">√âlectronique</h4>
                    <p class="text-sm text-gray-500">8,500+ produits</p>
                </div>
                <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-lg cursor-pointer">
                    <div class="w-16 h-16 bg-yellow-50 rounded-full flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-tractor text-yellow-600 text-2xl"></i>
                    </div>
                    <h4 class="font-semibold">Agriculture</h4>
                    <p class="text-sm text-gray-500">6,200+ produits</p>
                </div>
                <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-lg cursor-pointer">
                    <div class="w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-tools text-red-600 text-2xl"></i>
                    </div>
                    <h4 class="font-semibold">Construction</h4>
                    <p class="text-sm text-gray-500">7,800+ produits</p>
                </div>
                <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-lg cursor-pointer">
                    <div class="w-16 h-16 bg-purple-50 rounded-full flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-heartbeat text-purple-600 text-2xl"></i>
                    </div>
                    <h4 class="font-semibold">Sant√© & Beaut√©</h4>
                    <p class="text-sm text-gray-500">5,300+ produits</p>
                </div>
                <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-lg cursor-pointer">
                    <div class="w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-utensils text-indigo-600 text-2xl"></i>
                    </div>
                    <h4 class="font-semibold">Alimentation</h4>
                    <p class="text-sm text-gray-500">9,100+ produits</p>
                </div>
            </div>
        </section>

        <!-- Produits en vedette -->
        <section class="mb-12">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-secondary">Produits en vedette</h3>
                <a href="javascript:void(0)" class="text-primary hover:text-orange-600 font-medium">
                    Voir tous <i class="fas fa-arrow-right ml-1"></i>
                </a>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6" id="featured-products">
                <!-- Les produits seront g√©n√©r√©s par JavaScript -->
            </div>
        </section>

        <!-- Fournisseurs v√©rifi√©s -->
        <section class="mb-12">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-secondary">Fournisseurs v√©rifi√©s</h3>
                <a href="javascript:void(0)" class="text-primary hover:text-orange-600 font-medium">
                    Explorer <i class="fas fa-arrow-right ml-1"></i>
                </a>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center mb-4">
                        <img src="https://picsum.photos/60?random=10" alt="Logo fournisseur" class="w-16 h-16 rounded-full mr-4">
                        <div>
                            <h4 class="font-bold text-lg">Textiles Africains Ltd</h4>
                            <div class="flex items-center">
                                <span class="text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </span>
                                <span class="text-sm text-gray-500 ml-2">4.5 (320 avis)</span>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 mb-4">Sp√©cialiste en tissus africains de haute qualit√©. Export vers 15 pays.</p>
                    <div class="flex justify-between text-sm">
                        <span><i class="fas fa-check-circle text-accent mr-1"></i> V√©rifi√©</span>
                        <span><i class="fas fa-shipping-fast text-primary mr-1"></i> Livraison rapide</span>
                        <span><i class="fas fa-shield-alt text-secondary mr-1"></i> Garantie</span>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center mb-4">
                        <img src="https://picsum.photos/60?random=11" alt="Logo fournisseur" class="w-16 h-16 rounded-full mr-4">
                        <div>
                            <h4 class="font-bold text-lg">Tech Import Africa</h4>
                            <div class="flex items-center">
                                <span class="text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </span>
                                <span class="text-sm text-gray-500 ml-2">5.0 (450 avis)</span>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 mb-4">Importateur d'√©lectronique et gadgets technologiques pour toute l'Afrique.</p>
                    <div class="flex justify-between text-sm">
                        <span><i class="fas fa-check-circle text-accent mr-1"></i> V√©rifi√©</span>
                        <span><i class="fas fa-shipping-fast text-primary mr-1"></i> Livraison rapide</span>
                        <span><i class="fas fa-shield-alt text-secondary mr-1"></i> Garantie</span>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center mb-4">
                        <img src="https://picsum.photos/60?random=12" alt="Logo fournisseur" class="w-16 h-16 rounded-full mr-4">
                        <div>
                            <h4 class="font-bold text-lg">AgriPro Solutions</h4>
                            <div class="flex items-center">
                                <span class="text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </span>
                                <span class="text-sm text-gray-500 ml-2">4.8 (280 avis)</span>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 mb-4">√âquipements agricoles modernes et produits agroalimentaires de qualit√©.</p>
                    <div class="flex justify-between text-sm">
                        <span><i class="fas fa-check-circle text-accent mr-1"></i> V√©rifi√©</span>
                        <span><i class="fas fa-shipping-fast text-primary mr-1"></i> Livraison rapide</span>
                        <span><i class="fas fa-shield-alt text-secondary mr-1"></i> Garantie</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pourquoi choisir AFRISHOPSTAR -->
        <section class="mb-12 bg-white rounded-xl shadow-lg p-8">
            <h3 class="text-2xl font-bold text-secondary text-center mb-8">Pourquoi choisir AFRISHOPSTAR ?</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <div class="w-20 h-20 bg-primary bg-opacity-10 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-shield-alt text-primary text-3xl"></i>
                    </div>
                    <h4 class="font-bold text-lg mb-2">Transactions s√©curis√©es</h4>
                    <p class="text-gray-600">Paiements prot√©g√©s et garantie de remboursement pour toutes vos commandes.</p>
                </div>
                <div class="text-center">
                    <div class="w-20 h-20 bg-accent bg-opacity-10 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-check-circle text-accent text-3xl"></i>
                    </div>
                    <h4 class="font-bold text-lg mb-2">Fournisseurs v√©rifi√©s</h4>
                    <p class="text-gray-600">Tous nos fournisseurs passent par un processus de v√©rification rigoureux.</p>
                </div>
                <div class="text-center">
                    <div class="w-20 h-20 bg-secondary bg-opacity-10 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-headset text-secondary text-3xl"></i>
                    </div>
                    <h4 class="font-bold text-lg mb-2">Support 24/7</h4>
                    <p class="text-gray-600">Notre √©quipe de support est disponible pour vous aider √† tout moment.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-secondary text-white pt-12 pb-6">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fas fa-star text-primary text-2xl"></i>
                        <h3 class="text-2xl font-bold">AFRISHOP<span class="text-primary">STAR</span></h3>
                    </div>
                    <p class="text-gray-300 mb-4">La plateforme B2B leader en Afrique pour le commerce en gros et les opportunit√©s d'affaires.</p>
                    <div class="flex space-x-4">
                        <a href="javascript:void(0)" class="text-gray-300 hover:text-white">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="javascript:void(0)" class="text-gray-300 hover:text-white">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="javascript:void(0)" class="text-gray-300 hover:text-white">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="javascript:void(0)" class="text-gray-300 hover:text-white">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-4">Acheteurs</h4>
                    <ul class="space-y-2">
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white">Comment acheter</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white">Rechercher des fournisseurs</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white">Demandes de devis</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white">Centre d'aide</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-4">Fournisseurs</h4>
                    <ul class="space-y-2">
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white">Devenir fournisseur</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white">Centre fournisseurs</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white">Ressources d'exportation</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white">Formations</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-4">Contact</h4>
                    <ul class="space-y-2">
                        <li class="flex items-center">
                            <i class="fas fa-map-marker-alt mr-2 text-primary"></i>
                            <span class="text-gray-300">Lom√©, Togo</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone mr-2 text-primary"></i>
                            <span class="text-gray-300">+228 93 58 38 98</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-envelope mr-2 text-primary"></i>
                            <span class="text-gray-300">sylasbusiness35@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-700 pt-6">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-300 text-sm mb-4 md:mb-0">
                        ¬© 2024 AFRISHOPSTAR. Tous droits r√©serv√©s.
                    </p>
                    <div class="flex space-x-6">
                        <a href="javascript:void(0)" class="text-gray-300 hover:text-white text-sm">Conditions d'utilisation</a>
                        <a href="javascript:void(0)" class="text-gray-300 hover:text-white text-sm">Politique de confidentialit√©</a>
                        <a href="javascript:void(0)" class="text-gray-300 hover:text-white text-sm">Cookies</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <script>
      // Remplacez ces valeurs par celles de votre projet Firebase.
      const firebaseConfig = {
        apiKey: "TA_CLE_ICI",
        authDomain: "TON_PROJET.firebaseapp.com",
        projectId: "TON_PROJECT_ID",
        storageBucket: "TON_BUCKET.appspot.com",
        messagingSenderId: "TON_ID",
        appId: "TON_APP_ID"
      };

      // Initialisation Firebase (s'il n'est pas d√©j√† initialis√©)
      if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
        console.log("Firebase initialis√©");
      } else {
        firebase.app();
      }
      const auth = firebase.auth();
    </script>

    <script>
    // Main app script: g√®re panier, recherche, g√©n√©ration de produits, UI et auth
    document.addEventListener("DOMContentLoaded", function () {

      // ==== Donn√©es de d√©monstration pour produits en vedette ====
      const demoProducts = [
        { id: "p1", name: "Tissu Wax Premium", price: "12.50", img: "https://picsum.photos/300?random=1" },
        { id: "p2", name: "Smartphone X Pro", price: "220.00", img: "https://picsum.photos/300?random=2" },
        { id: "p3", name: "Tracteur Agricole 2000", price: "15000.00", img: "https://picsum.photos/300?random=3" },
        { id: "p4", name: "Casque Audio Bluetooth", price: "35.00", img: "https://picsum.photos/300?random=4" },
        { id: "p5", name: "Lampe LED Industrielle", price: "18.00", img: "https://picsum.photos/300?random=5" },
        { id: "p6", name: "Pack √âquipements Agro", price: "450.00", img: "https://picsum.photos/300?random=6" }
      ];

      const featuredContainer = document.getElementById("featured-products");

      function renderProducts(products) {
        featuredContainer.innerHTML = "";
        products.forEach(prod => {
          const card = document.createElement("div");
          card.className = "product-card bg-white rounded-lg shadow p-4 flex flex-col";
          card.dataset.name = prod.name;
          card.innerHTML = `
            <img src="${prod.img}" alt="${prod.name}" class="w-full h-40 object-cover rounded mb-4">
            <h4 class="font-semibold text-lg mb-1">${prod.name}</h4>
            <p class="text-sm text-gray-500 mb-3">Prix: $${prod.price}</p>
            <div class="mt-auto flex items-center justify-between">
              <button class="bg-primary text-white px-3 py-2 rounded add-to-cart" data-product="${prod.name}"><i class="fas fa-cart-plus mr-2"></i>Ajouter</button>
              <button class="border border-gray-300 px-3 py-2 rounded view-product" data-id="${prod.id}">Voir</button>
            </div>
          `;
          featuredContainer.appendChild(card);
        });
      }

      renderProducts(demoProducts);

      // ===== PANIER =====
      let cart = JSON.parse(localStorage.getItem("cart")) || [];

      const cartCount = document.getElementById("cart-count");
      const cartItems = document.getElementById("cart-items");
      const clearBtn = document.getElementById("clear-cart");
      const cartDropdown = document.getElementById("cart-dropdown");
      const cartToggle = document.getElementById("cart-toggle");
      const checkoutBtn = document.getElementById("checkout-btn");

      function updateCart() {
        if (cartCount) cartCount.textContent = cart.length;
        if (!cartItems) return;
        cartItems.innerHTML = "";

        if (cart.length === 0) {
          const li = document.createElement("li");
          li.textContent = "Votre panier est vide.";
          li.className = "text-gray-500";
          cartItems.appendChild(li);
          return;
        }

        cart.forEach((item, index) => {
          const li = document.createElement("li");
          li.className = "flex justify-between items-center mb-2";

          li.innerHTML = `
            <span>${item}</span>
            <button class="text-red-500 font-bold remove-item" data-index="${index}">‚ùå</button>
          `;
          cartItems.appendChild(li);
        });

        // Ajout des listeners pour supprimer
        cartItems.querySelectorAll(".remove-item").forEach(btn => {
          btn.addEventListener("click", (e) => {
            const idx = parseInt(btn.dataset.index, 10);
            if (!isNaN(idx)) {
              cart.splice(idx, 1);
              localStorage.setItem("cart", JSON.stringify(cart));
              updateCart();
            }
          });
        });
      }

      updateCart();

      // Event delegation: boutons "Ajouter"
      document.body.addEventListener("click", function(e) {
        const addBtn = e.target.closest("button.add-to-cart");
        if (addBtn) {
          const productName = addBtn.getAttribute("data-product");
          if (productName) {
            cart.push(productName);
            localStorage.setItem("cart", JSON.stringify(cart));
            updateCart();
            // Ouvrir le panier rapidement pour feedback
            cartDropdown.classList.remove("hidden");
            setTimeout(() => cartDropdown.classList.add("hidden"), 4000);
          }
        }

        const viewBtn = e.target.closest("button.view-product");
        if (viewBtn) {
          const id = viewBtn.getAttribute("data-id");
          alert("Voir le produit (d√©mo) : " + id);
        }
      });

      // Clear cart
      if (clearBtn) {
        clearBtn.addEventListener("click", () => {
          cart = [];
          localStorage.removeItem("cart");
          updateCart();
        });
      }

      // Toggle cart dropdown
      if (cartToggle && cartDropdown) {
        cartToggle.addEventListener("click", (e) => {
          e.preventDefault();
          cartDropdown.classList.toggle("hidden");
        });

        // fermer si clic √† l'ext√©rieur
        document.addEventListener("click", function(e) {
          if (!cartDropdown.contains(e.target) && !cartToggle.contains(e.target)) {
            cartDropdown.classList.add("hidden");
          }
        });
      }

      // Checkout (d√©mo)
      if (checkoutBtn) {
        checkoutBtn.addEventListener("click", () => {
          if (cart.length === 0) {
            alert("Votre panier est vide.");
            return;
          }
          alert("Passer √† la caisse (d√©mo). Articles: " + cart.join(", "));
        });
      }

      // ===== RECHERCHE =====
      const searchInput = document.getElementById("search");
      function filterProducts() {
        const value = (searchInput && searchInput.value || "").toLowerCase();
        const products = document.querySelectorAll(".product-card");
        products.forEach(product => {
          const name = (product.dataset.name || "").toLowerCase();
          product.style.display = name.includes(value) ? "block" : "none";
        });
      }

      if (searchInput) {
        searchInput.addEventListener("input", filterProducts);
        // Recherche rapide au clic sur icone
        const searchBtn = document.getElementById("search-btn");
        if (searchBtn) {
          searchBtn.addEventListener("click", filterProducts);
        }
      }

      // ===== Quelques autres boutons d'action (d√©mo) =====
      const sellNowBtn = document.getElementById("sell-now-btn");
      const downloadBtn = document.getElementById("download-btn");
      const exploreBtn = document.getElementById("explore-btn");
      const becomeSupplierBtn = document.getElementById("become-supplier-btn");

      if (sellNowBtn) sellNowBtn.addEventListener("click", () => alert("Page de vente - √† impl√©menter"));
      if (downloadBtn) downloadBtn.addEventListener("click", () => alert("T√©l√©chargement de l'app - √† impl√©menter"));
      if (exploreBtn) exploreBtn.addEventListener("click", () => { window.scrollTo({ top: document.body.scrollHeight/4, behavior: 'smooth' }) });
      if (becomeSupplierBtn) becomeSupplierBtn.addEventListener("click", () => alert("Formulaire Devenir fournisseur - √† impl√©menter"));

      // ===== AUTH UI & Handlers =====
      const accountToggle = document.getElementById("account-toggle");
      const authModal = document.getElementById("auth-modal");
      const authClose = document.getElementById("auth-close");
      const registerBtn = document.getElementById("register-btn");
      const loginBtn = document.getElementById("login-btn");
      const authEmail = document.getElementById("auth-email");
      const authPassword = document.getElementById("auth-password");

      if (accountToggle) {
        accountToggle.addEventListener("click", (e) => {
          e.preventDefault();
          if (authModal) authModal.classList.remove("hidden");
        });
      }
      if (authClose && authModal) {
        authClose.addEventListener("click", () => authModal.classList.add("hidden"));
        // fermer si clic √† l'ext√©rieur du contenu
        authModal.addEventListener("click", (e) => {
          if (e.target === authModal) authModal.classList.add("hidden");
        });
      }

      // Fonctions Firebase Auth (utilisent 'auth' d√©fini apr√®s initialisation Firebase)
      function registerUser() {
        const email = authEmail.value.trim();
        const password = authPassword.value.trim();

        if (!email || !password) {
          alert("Email et mot de passe requis");
          return;
        }

        auth.createUserWithEmailAndPassword(email, password)
          .then((userCredential) => {
            alert("Compte cr√©√© avec succ√®s üéâ");
            authModal.classList.add("hidden");
            console.log("Utilisateur cr√©√© :", userCredential.user.email);
          })
          .catch(error => {
            alert("Erreur inscription: " + error.message);
            console.error(error);
          });
      }

      function loginUser() {
        const email = authEmail.value.trim();
        const password = authPassword.value.trim();

        if (!email || !password) {
          alert("Email et mot de passe requis");
          return;
        }

        auth.signInWithEmailAndPassword(email, password)
          .then((userCredential) => {
            alert("Connexion r√©ussie ‚úÖ");
            authModal.classList.add("hidden");
            console.log("Utilisateur connect√© :", userCredential.user.email);
          })
          .catch(error => {
            alert("Erreur connexion: " + error.message);
            console.error(error);
          });
      }

      if (registerBtn) registerBtn.addEventListener("click", registerUser);
      if (loginBtn) loginBtn.addEventListener("click", loginUser);

      // √âtat utilisateur (facultatif, affiche dans console)
      auth.onAuthStateChanged(user => {
        if (user) {
          console.log("Utilisateur connect√© (onAuthStateChanged):", user.email);
        } else {
          console.log("Aucun utilisateur connect√©");
        }
      });

      // S√©curit√© : pr√©venir erreurs si firebase non configur√© (catch global)
      window.addEventListener('error', function (e) {
        // console.warn('Erreur d√©tect√©e:', e.message);
      });

    });
    </script>
</body>
</html>
